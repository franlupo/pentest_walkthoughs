# Retro

In this room we are going to attempt to get root in the Retro machine! Let's begin.

### Port Enumeration

Let's first start with a simple port enumeration command:

```
nmap <ip> -A -T4
```

The results from this port scan showcased two open ports: 80 (HTTP) and 3389 (RDP).

### Web Enumeration

When visited, the web page shows the default image of an IIS server. Let's perform some web enumeration with GoBuster:

```
gobuster dir -u http://10.10.195.117 -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt -t 30
```

From the output we can see there is a `/retro` directory we can access.

### Website Enumeration

Entering this page showcases a blog with posts about video games and movies. Navigating a bit we can see there is a login page for Wordpress.

```
wpscan --url http://10.10.195.117/retro -e u
```

We get a username: Wade but not other interesting information besides the Wordpress version. 

### Foothold

Nonetheless, if we navigate a bit we will find one interesting comment on one of the posts.

![image-20230506132123234](./images/image-20230506132123234.png)

Could this be a password? Yes, we can now login via RDP and in the Wordpress Dashboard with this set of credentials. 

RDPing in let's us get the user flag.

### Privilege Escalation

There are several ways to escalate our privileges. The one I used was by taking advantage of a known exploit CVE-2017-0213. Researching online about the OS version which can be gotten using `systeminfo` let's us know that the machine is vulnerable to this CVE.

Using the payload in [this Github Repository](https://github.com/eonrickity/CVE-2017-0213) I was able to escalate my privileges and become root.

