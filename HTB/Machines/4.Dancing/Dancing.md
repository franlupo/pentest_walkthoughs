# Machine 4: Dancing

# ![image-20220311054258907](/home/kali/Desktop/Penetration Testing/Fawn_3/screenshots/fawn.png)

| Machine Name         | Fawn      |
| -------------------- | --------- |
| Creator              | -         |
| OS                   | Linux     |
| Difficulty           | Very Easy |
| User Path            | -         |
| Privilege Escalation | -         |
| IppsecVideo          | -         |
| Walkthrough          | -         |



[TOC]

## Introduction

Hello! This walkthrough will cover my second challenge in HTB. It is a Very Easy Machine called Fawn and the exercise is divided into 9 different tasks.

Our first step when approaching any machine is to establish a VPN connection as a means to have connectivity to it. You can go to this link (Meow Machine) and consult the first section which details how to connect to HTB's VPN.

Now that we know that we setup our VPN correctly we should wait a few minutes before HTB tells us that we are connected and that the server is ready for us :). If so let us spawn the machine. In order to do this, you should click on the 'Spawn Machine' button and wait till HTB returns the IP Address of the target machine.

Afterwards we can start completing the tasks.

------

## Task 1

> What does the 3-letter acronym FTP stand for?

The answer is **<u>File Transfer Protocol</u>**.

> The File Transfer Protocol (FTP) is a standard communication protocol used to transfer
>computer files from a server to a client on a computer network.

------

## Task 2

> What communication model does FTP use, architecturally speaking?

The communication model that FTP uses is the **<u>client-server model</u>** where a server host runs one or more server programs, which share their resources with clients. A client usually does not share any of its resources, but it requests content or service from a server.

> Client-server model is a distributed application structure that partitions tasks or workloads between the providers of a resource or service, called servers, and service requesters, called clients.
>
> (https://en.wikipedia.org/wiki/Clientâ€“server_model)

------

## Task 3

> What is the name of one popular GUI FTP program?

The popular GUI FTP program being referenced is called **<u>FileZilla</u>**. Another popular GUI FTP program is WinSCP.

> FileZilla is a utility for transferring files to or from a remote computer by a standard method known as FTP (File Transfer Protocol).
>
> (https://etc.engineering.uiowa.edu/help-deskcomputer-services-ecs/how-use/filezilla-file-transfer)

------

## Task 4

> Which port is the FTP service active on usually?

If you got ahead of yourself and started doing the enumeration step with Nmap already, you may already know the answer to this question. In case you do not know, FTP uses port **<u>21 TCP</u>** by default.

> ftp	21	tcp	File Transfer Protocol [Control]
>
> IANA (https://www.iana.org/assignments/service-names-port-numbers/service-names-port-numbers.xhtml)

## Task 5

> What acronym is used for the secure version of FTP?

<u>**SFTP**</u> (SSH File Transfer Protocol) is basically the secure version of FTP.

> <u>**SFTP**</u> (SSH File Transfer Protocol) is a file protocol for transferring large files over the web. It builds on the File Transfer Protocol (FTP) and includes Secure Shell (SSH) security components.
>
> Techopedia (https://www.techopedia.com/definition/1879/secure-file-transfer-protocol-sftp)

## Task 6

> What tool do we use to test our connection to the target?

You can **<u>ping</u>** the target machine in order to test your connectivity to it. 

```bash
ping <ip_address>
```

> The ping command sends packets of data to a specific IP address on a network, and then lets you know how long it took to transmit that data and get a response.
>
> (https://www.howtogeek.com/355664/how-to-use-ping-to-test-your-network/)

## Task 7

> From your scans, what version is FTP running on the target?

We can use nmap to scan what services the machine is running.

To do this we should double check if our VPN connection is in place and perform an enumeration with nmap.

```bash
nmap -sV -oA <filename> <ip_address>
```

> -oA: Outputs the contents of the scan in normal, xmland greppable formats
>
> -sV: Detects version

![image-20220311132039667](/home/kali/Desktop/Penetration Testing/Fawn_3/screenshots/ftp_version.png)

Ultimately, we can see that the machine is running <u>**vsftpd 3.0.3**</u>.

For the curious ones, vsftpd is an FTP server for Unix-like systems, such as Linux.

## Task 8

> From your scans, what OS type is running on the target?

The answer to this question can be seen in the screenshot above. The OS type the target machine is running is **<u>Unix</u>**.

## Task 9

> Submit root flag

The content of the flag.txt file is the target of this final task. 

First things first type we know that the server is running an FTP server, hence we should try to establish connectivity through the following command:

```bash
ftp <ip_address>
```

Afterwards, if the connection was sucessfull the prompt will ask you for a username. I'll be honest I solved this step by luck typing 'ftp':'ftp' as the username and password. By pure luck I was granted access. But anyways let us see how you should address this next step.  

As it seems, a typical misconfiguration of FTP services is to allow anonymous users to access the service like an authenticated user such as 'ftp' :). Hence, if we try to login as the user `anonymous` and type any password, we are granted access to the FTP server.

From here the remaining steps are easy. You can access the list of available commands in the terminal by issuing `help`. As we can see, `ls` is also present in the ftp console and after inputing it we can see that the current directory has a **<u>flag.txt</u>** file!

Being an FTP server it is only logical we can download the file with the command:

```bash
get flag.txt
```

This will download the file to our current working directory. We can now `cat` the file and copy its contents to the task's answer textbox and you are done!

Congratulations, you have just solved your second machine :)